---
phase: 01-secure-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - tailwind.config.ts
  - next.config.ts
  - components.json
  - src/app/layout.tsx
  - src/app/globals.css
  - src/lib/utils.ts
autonomous: true

must_haves:
  truths:
    - "Project builds without errors"
    - "Tailwind CSS processes utility classes"
    - "shadcn/ui components can be added"
    - "Brand colors match botfy.ai identity"
    - "TypeScript compilation succeeds"
  artifacts:
    - path: "package.json"
      provides: "Dependencies for Next.js 15 + TypeScript + Tailwind + shadcn/ui"
      contains: "next"
    - path: "src/app/layout.tsx"
      provides: "Root layout with brand colors and fonts"
      min_lines: 20
    - path: "tailwind.config.ts"
      provides: "Tailwind configuration with brand theme"
      contains: "colors"
    - path: "components.json"
      provides: "shadcn/ui configuration"
      contains: "style"
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "CSS import"
      pattern: "import.*globals\\.css"
    - from: "tailwind.config.ts"
      to: "src/app/globals.css"
      via: "Tailwind directives"
      pattern: "@tailwind"
---

<objective>
Initialize Next.js 15 project with TypeScript, Tailwind CSS, and shadcn/ui. Extract and implement Botfy brand identity (colors, fonts, logo) from https://botfy.ai.

Purpose: Establish secure, production-grade foundation with modern stack before building features.
Output: Working Next.js 15 project with brand design system and shadcn/ui ready for component development.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/STACK.md
@.planning/research/PITFALLS.md

**Stack decisions from research:**
- Next.js 15.1.8+ with App Router (NOT Pages Router)
- TypeScript 5.x for type safety
- Tailwind CSS 4.x for styling
- shadcn/ui (copy-paste components, not npm package)
- React 19.x (address CVE-2025-55182, CVE-2025-66478 immediately)

**Critical CVE to address:**
- CVE-2025-55182, CVE-2025-66478: React 19.0-19.2.0 RCE vulnerabilities
- Mitigation: Use React 19.2.1+ (if available) or latest stable
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Next.js 15 project with TypeScript and Tailwind</name>
  <files>package.json, tsconfig.json, next.config.ts, tailwind.config.ts, src/app/layout.tsx, src/app/page.tsx, src/app/globals.css</files>
  <action>
Run `npx create-next-app@latest . --typescript --tailwind --app --no-src-dir --import-alias "@/*"` in project root.

Accept defaults:
- TypeScript: Yes
- ESLint: Yes
- Tailwind CSS: Yes
- App Router: Yes
- Customize import alias: No (use default @/*)

After creation, verify React version in package.json:
- If React < 19.2.1, upgrade immediately: `npm install react@latest react-dom@latest`
- This addresses CVE-2025-55182 and CVE-2025-66478 (CVSS 10.0 RCE vulnerabilities)

Move `app/` directory to `src/app/` for better project organization (Next.js supports both, src/ is cleaner for larger projects).

Confirm structure:
```
/
├── src/
│   └── app/
│       ├── layout.tsx
│       ├── page.tsx
│       └── globals.css
├── public/
├── package.json
├── tsconfig.json
├── next.config.ts
└── tailwind.config.ts
```
  </action>
  <verify>
```bash
npm run build
```
Build must succeed without errors. No TypeScript errors, no missing dependencies.
  </verify>
  <done>
Next.js 15 project created with TypeScript, Tailwind CSS, App Router. Build succeeds. React version >= 19.2.1 (CVE mitigated).
  </done>
</task>

<task type="auto">
  <name>Task 2: Initialize shadcn/ui and install essential components</name>
  <files>components.json, src/components/ui/, src/lib/utils.ts</files>
  <action>
Run `npx shadcn@latest init` with these selections:
- Style: New York (professional, clean aesthetic for healthcare dashboard)
- Base color: Slate (neutral, accessible)
- CSS variables: Yes (enables theming)

After initialization, install essential components for Phase 1:
```bash
npx shadcn@latest add button
npx shadcn@latest add input
npx shadcn@latest add label
npx shadcn@latest add card
npx shadcn@latest add form
npx shadcn@latest add toast
```

These components will be used for:
- button: Login/logout actions, form submissions
- input/label: Login form fields
- card: Login page container
- form: react-hook-form integration (Phase 1)
- toast: Success/error notifications

Verify component structure:
```
src/
├── components/
│   └── ui/
│       ├── button.tsx
│       ├── input.tsx
│       ├── label.tsx
│       ├── card.tsx
│       ├── form.tsx
│       └── toast.tsx
└── lib/
    └── utils.ts
```

DO NOT install all 50+ components now - only what Phase 1 needs. Add more components in later phases when required.
  </action>
  <verify>
```bash
npm run build
```
Build succeeds. Check that `src/components/ui/` directory exists with components. Verify `src/lib/utils.ts` has `cn` utility function.
  </verify>
  <done>
shadcn/ui configured with New York style. Essential components installed (button, input, label, card, form, toast). Build succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 3: Extract Botfy brand identity and implement design system</name>
  <files>tailwind.config.ts, src/app/layout.tsx, src/app/globals.css, public/logo.svg</files>
  <action>
**1. Extract brand colors from https://botfy.ai:**

Visit https://botfy.ai and extract:
- Primary color (likely purple/blue gradient)
- Secondary colors
- Background colors
- Text colors

Use browser DevTools to inspect CSS variables or computed styles for exact hex codes.

**2. Update tailwind.config.ts:**

Add Botfy brand colors to theme.extend.colors:
```typescript
colors: {
  botfy: {
    primary: '#[extracted-color]',
    secondary: '#[extracted-color]',
    accent: '#[extracted-color]',
    // ... other brand colors
  }
}
```

Keep shadcn/ui CSS variables intact - extend, don't replace.

**3. Update src/app/layout.tsx:**

Set brand metadata:
```typescript
export const metadata: Metadata = {
  title: 'Botfy ClinicOps - Console Administrativo',
  description: 'Console administrativo para gestão do sistema Botfy ClinicOps',
}
```

Add brand font if Botfy uses custom font (check botfy.ai). If using Google Fonts, import via next/font/google.

**4. Download logo from botfy.ai:**

Extract logo SVG or PNG from website. Save to `public/logo.svg` or `public/logo.png`.

If logo is not directly downloadable, create placeholder:
```typescript
// src/components/ui/logo.tsx
export function Logo() {
  return <div className="text-2xl font-bold text-botfy-primary">Botfy</div>
}
```

**5. Test brand colors:**

Create a simple test page to verify colors render correctly:
```typescript
// src/app/page.tsx (temporary)
<div className="bg-botfy-primary text-white p-4">Botfy Brand Test</div>
```

IMPORTANT: Do NOT spend more than 15 minutes on brand extraction. If botfy.ai is complex or colors are hard to extract, use reasonable defaults (purple #7C3AED as primary) and create a TODO for manual brand refinement. The goal is a working project, not pixel-perfect branding in Phase 1.
  </action>
  <verify>
```bash
npm run dev
```
Visit http://localhost:3000 and confirm:
- Page loads without errors
- Tailwind classes (bg-botfy-primary) apply correctly
- Logo or brand text displays
- No console errors

```bash
npm run build
```
Build succeeds with brand colors.
  </verify>
  <done>
Brand colors extracted from botfy.ai and configured in Tailwind. Logo saved or placeholder created. Metadata updated. Dev server and build succeed.
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run dev` starts dev server successfully
- [ ] http://localhost:3000 loads without errors
- [ ] shadcn/ui components exist in `src/components/ui/`
- [ ] Brand colors defined in tailwind.config.ts
- [ ] React version >= 19.2.1 (CVE-2025-55182, CVE-2025-66478 mitigated)
- [ ] TypeScript strict mode enabled (check tsconfig.json)
- [ ] No ESLint errors
</verification>

<success_criteria>
- All tasks completed
- Next.js 15 project initialized with App Router
- TypeScript, Tailwind CSS, shadcn/ui configured
- Brand identity (colors, logo, metadata) implemented
- Essential shadcn/ui components installed
- Build and dev server work without errors
- React CVE vulnerabilities addressed
</success_criteria>

<output>
After completion, create `.planning/phases/01-secure-foundation/01-01-SUMMARY.md`
</output>
