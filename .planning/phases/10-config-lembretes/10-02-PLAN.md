# Plan 10-02: Config Lembretes UI Components

**Phase:** 10 - Config Lembretes
**Requirements:** CONF-01 (list), CONF-02 (create), CONF-03 (edit), CONF-05 (toggle active)
**Status:** Not Started

## Objective

Create React components for managing reminder configurations: table, form modal, search, and actions menu.

## Context

**Existing Pattern:** Follow `src/components/services/` component structure.

**Components to create:**
- `config-lembretes-page-client.tsx` - Main client component with state
- `config-lembrete-table.tsx` - Data table with columns
- `config-lembrete-form-modal.tsx` - Create/edit dialog
- `config-lembrete-search.tsx` - Search and filter bar
- `config-lembrete-actions.tsx` - Row actions (edit, toggle, delete)

## Tasks

### Task 1: Create page client component

**File:** `src/components/config-lembretes/config-lembretes-page-client.tsx`

```typescript
// State management for:
// - configs list
// - pagination
// - loading state
// - modal open/close
// - editing config

// Fetch configs from /api/config-lembretes
// Handle create, edit, refresh
```

### Task 2: Create search component

**File:** `src/components/config-lembretes/config-lembrete-search.tsx`

Features:
- Filter by ativo (all, active, inactive)
- "Novo Lembrete" button
- Follow ServiceSearch pattern

### Task 3: Create table component

**File:** `src/components/config-lembretes/config-lembrete-table.tsx`

Columns:
| Column | Description |
|--------|-------------|
| Nome | Config name |
| Horas Antes | Hours before (e.g., "48h", "24h", "2h") |
| Template | Template type |
| Status | Badge (Ativo/Inativo) |
| Prioridade | Priority number |
| Criado em | Creation date |
| Acoes | Edit button + actions menu |

Features:
- Pagination
- Empty state
- Row click to edit

### Task 4: Create form modal component

**File:** `src/components/config-lembretes/config-lembrete-form-modal.tsx`

Form fields:
- `nome`: Text input (required)
- `horas_antes`: Number input (required, common values: 48, 24, 2)
- `template_tipo`: Select dropdown (lembrete, confirmacao, reagendamento)
- `prioridade`: Number input (optional, default 1)
- `ativo`: Switch toggle

Features:
- Create and edit modes
- Zod validation with react-hook-form
- Loading states
- Error handling with toast

### Task 5: Create actions component

**File:** `src/components/config-lembretes/config-lembrete-actions.tsx`

Actions menu:
- Toggle active/inactive (with icon change)
- Delete with confirmation dialog

Features:
- Dropdown menu
- AlertDialog for delete confirmation
- Loading states
- Toast notifications

### Task 6: Create index export

**File:** `src/components/config-lembretes/index.ts`

Export all components for clean imports.

## Success Criteria

- [ ] Page client component manages state correctly
- [ ] Table displays all config fields with proper formatting
- [ ] Search/filter updates table results
- [ ] Form modal validates input with Zod
- [ ] Form modal supports create and edit modes
- [ ] Actions menu toggles active status
- [ ] Delete shows confirmation dialog
- [ ] All actions show toast feedback
- [ ] Components follow existing UI patterns

## Notes

- Use Bell or BellRing icon for reminder-related UI
- Hours display: "48h antes", "24h antes", "2h antes"
- Template types in Portuguese: "Lembrete", "Confirmacao", "Reagendamento"
- Follow shadcn/ui patterns (Dialog, AlertDialog, DropdownMenu)
